# XML

[TOC]

## 第一章：XML基本语法

### 1.XML简介

XML（eXtensible Markup Language）:可扩展标记型语言

-	标记型语言：HTML是标记型语言
    -	同样使用标签来操作
-	可扩展：
    -	HTML里面的标签是固定的，每个标签都有特定的含义
    -	XML标签可以自己定义，可以写中文的标签

XML用途：

-   HTML是用于显示数据，XML也可以显示数据（不是主要功能）
-   XML主要功能是为了存储数据

xml是w3c组织发布的技术。

XML有两个版本1.0、1.1（使用的都是1.0版本，1.1版本不能向下兼容）

### 2.XML的应用

-   不同的系统之间传输数据
-   表示相关联的数据
-   用在配置文件中

### 3.XML基本语法

-   XML声明

XML声明是文件的可选部分，如果存在需要放在文档的第一行。

```xml
<? xml version="1.0" encoding="utf-8"?>
```

-   XML有且仅有一个根元素（元素包括开始标签、元素内容、结束标签）
-   XML是大小写敏感的
-   标签是成对的，必须正确嵌套
-   XML属性必须加双引号
-   XML中的注释

```xml
<!-- 注释内容 -->
```

### 4.有效的XML

-   必须是格式良好
-   使用DTD和XSD（XML Schema）定义语义约束

## 第二章：DTD

### 1.DTD简介

-   DTD，Document Type Definition，文档类型定义
-   DTD用于约束XML文档格式，保证XML的有效性
-   DTD分为内部DTD和外部DTD

### 2.内部DTD

#### 2.1 内部DTD声明

内部DTD语法包装在一个DOCTYPE声明中。

```xml
<!DOCTYPE 根元素 [元素声明]>
```

#### 2.2 元素的声明

```xml
<!ELEMETN 元素名 （子元素...）>
```

-   数量词
    -   +：表示出现1次或多次，至少一次
    -   ？：表示出现0次或1次
    -   \*：表示出现任意次

#### 2.3  属性声明语法

```xml
<!ATTLIST 元素名称 属性名称 属性类型 默认值>
```

-	属性类型选项

| 类型               | 描述                          |
| :----------------- | :---------------------------- |
| CDATA              | 值为字符数据 (character data) |
| (en1\|en2\|..) | 此值是枚举列表中的一个值      |
| ID                 | 值为唯一的 id                 |
| IDREF              | 值为另外一个元素的 id         |
| IDREFS             | 值为其他 id 的列表            |
| NMTOKEN            | 值为合法的 XML 名称           |
| NMTOKENS           | 值为合法的 XML 名称的列表     |
| ENTITY             | 值是一个实体                  |
| ENTITIES           | 值是一个实体列表              |
| NOTATION           | 此值是符号的名称              |
| xml:               | 值是一个预定义的 XML 值       |

-	默认值参数

| 值           | 解释           |
| :----------- | :------------- |
| 值           | 属性的默认值   |
| #REQUIRED    | 属性值是必需的 |
| #IMPLIED     | 属性不是必需的 |
| #FIXED value | 属性值是固定的 |

#### 2.4 PCDATA

PCDATA 的意思是被解析的字符数据（parsed character data）。

可把字符数据想象为 XML 元素的开始标签与结束标签之间的文本。

PCDATA 是会被解析器解析的文本。这些文本将被解析器检查实体以及标记。

文本中的标签会被当作标记来处理，而实体会被展开。

不过，被解析的字符数据不应当包含任何 &、< 或者 > 字符；需要使用 &amp;、&lt; 以及 &gt; 实体来分别替换它们。

###  3.外部DTD

-   创建一个独立的dtd文件
-   在XML文件中引用dtd文件

```xml
<!DOCTYPE 根元素 SYSTEM "文件名">
```

## 第三章：XML解析技术

### 1.常见的XML解析技术

-   DOM解析，sun公司提供的解析方式，基于XML树解析的
-   SAX解析，民间提供的，基于事件的解析
-   JDOM解析，第三方提供，开源免费的解析方式，比DOM解析快
-   DOM4J，第三方提供，开源免费，JDOM的升级版

### 2.DOM4J解析XML

解析XML的入口是需要先拿到一个Document对象。

#### 2.1   





