# Java语法基础

[TOC]

## 1.Java程序基础

### 1.1 变量和数据类型

-   基本数据类型

| 类型名 | 字节大小 | 数值范围 |
| :------: | :--------: | :--------: |
|int|4字节|-2147483648 ~ 2147483647|
|short|2字节|-32768 ~ 32767|
|long|8字节|-9223372036854775808 ~ 9223372036854775807|
|byte|1字节|-128 ~ 127|
|float|4字节|-|
|double|8字节|-|
|char|2字节|可表示ASCII和Unicode字符|
|boolean|JVM把Boolean表示为4字节整数|-|

**Notes：**

-   Java只定义了带符号的整型，因此最高位的bit表示符号位（0表示正数，1表示负数）
-   float类型需要加上f后缀
-   char类型使用单引号‘，字符串使用双引号”
-   定义变量时，加上final修饰符就变成了常量
-   定义变量使用var修饰符，编译器会自动推断数据类型`var i = new StringBuilder`

### 1.2 运算符及优先级

| 优先级 | 运算符 | 结合性 |
| :------: | :------ | :----: |
| 1 | ()    []    . | 从左到右 |
| 2 | !    ~    ++    -- | 从右到左 |
| 3 | *    /    % | 从左到右 |
| 4 | +    - | 从左到右 |
| 5 | <<    >>    >>> | 从左到右 |
| 6 | <    <=    >    >=    instanceof | 从左到右 |
| 7 | ==    != | 从左到右 |
| 8 | & | 从左到右 |
| 9 | ^ | 从左到右 |
| 10 | \| | 从左到右 |
| 11 | && | 从左到右 |
| 12 | \|\| | 从左到右 |
| 13 | ？： | 从左到右 |
| 14 | =    +=    -=    *=     /=    %=    &=    \|=    ^=    ~=    <<=    >>=    >>>= | 从右到左 |
| 15 | , | 从右到左 |

**Notes：**

-   除法运算、取余运算，两个操作数是整数结果也会是整数，舍弃掉小数部分
-   自增自减运算，++n和--n先做加减再引用n，n++和n--先引用n在做加减
-   +=、-=，*=，/=，%=，&=，|=，^=，~=，<<=，>>=，>>>=相当于对变量自身做运算
-   整数运算存在范围限制，超出范围会产生溢出，溢出不会报错，但会得到一个错误的结果

-   浮点数不能做位运算和移位运算
-   整数运算在除数为0时会报错，而浮点数运算在除数为0时不会报错，但会返回几个特殊值：
    -   NaN表示Not a Number
    -   Infinity表示无穷大
    -   -Infinity表示负无穷大
-   布尔运算是一种短路运算，如果一个布尔运算的表达式能提前确定结果，则后续的计算不再执行，直接返回结果。

### 1.3 字符和字符串

字符串类型String为引用类型

常见转义字符表：

|转义字符|表示字符|
|:--------:|:-----------:|
|\"|表示字符"|
|\'|表示字符'|
|\\|表示字符\|
|\n|表示换行符|
|\r|表示回车符|
|\t|表示Tab|
|\u####|表示一个Unicode编码的字符|

**多行字符串：**

`"""......"""`表示多行字符串。

**不可变性：**

字符串的不可变是指字符串内容不可变，而变量的指向改变。

### 1.4 数组类型

使用”类型[]“的语法定义数组类型，数组变量初始化必须使用new。数组本身是引用类型。

Java数组的特点：

-   数组所有元素初始化为默认值，整型为0、浮点型为0.0、布尔型为false
-   数组一旦创建后，大小就不可改变
-   可通过索引访问数组元素，但索引超出范围将报错
-   数组大小是不可改变的，数组的改变，改变的是指向数组的指针

## 2.流程控制

在Java程序中，JVM总是顺序执行一;结束的语句。

### 2.1 格式化输出

Java格式化功能提供了多种占位符：

| 占位符 | 说明                             |
| ------ | -------------------------------- |
| %d     | 格式化输出整数                   |
| %x     | 格式化输出十六进制整数           |
| %f     | 格式化输出浮点数                 |
| %e     | 格式化输出科学计数法表示的浮点数 |
| %s     | 格式化字符串                     |

**Notes：**

-   由于%表示占位符，因此连续两个%%表示一个%字符本身

### 2.2 if判断

if语句的基本语法：

```
if(条件){
	// 条件满足时执行
}else if(条件){
	// 条件满足时执行
}else{
	// 条件都不满足时执行
}
```

### 2.3 switch多重选择

switch语句的基本语法：

```
switch (option){
	case 1:
		// 语句1
		break;
	case 2:
		//语句2
		break;
	default :
		// 语句3
		brak;
}
```

Java 12开始switch语句升级为更简洁的语句表达式，保证只有一种路径会被执行，并且不需要break语句。

```
switch(option){
	case 1 -> 语句1;
	case 2 -> 语句2;
	case 3 ->{
		//语句3
	}
	default -> 语句4;
}
```

### 2.4 while循环和do while循环

```
while(条件表达式){
	//循环语句
}
do{
	//循环语句
}while(条件表达式);
```

while循环是先判断循环条件，再执行；do while循环是先执行循环，再判断及条件。

### 2.5 for循环

```
for (初始条件; 循环检测条件; 循环后更新计数器){
	//执行语句
}
```

**for each循环**

```
for (int n : ns){
	System.out.println(n);
}
```

n不再是计数器，而是直接对应到数组的每个元素。

### 2.6 break和continue

break语句跳出当前循环。

continue是提前结束本次循环，直接执行下次循环。

## 3.数组操作

- 遍历数组
- 数组排序
- 多维数组
- 命令行参数
